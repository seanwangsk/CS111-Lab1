This code is written by Zhiyang Wang 303991529 and Minhan Xia 204000665

Fullfill almost all functions except the case where there are more than one line in the subshell
